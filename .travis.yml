matrix:
  exclude:
    - language: ruby
      dist: precise
  include:
    - language: java
      jdk: openjdk8
      script: 
        - make local-java
      after_success:
        - make coverage-java
      cache:
        directories:
        - "$HOME/.m2"
        - "$HOME/.sonar/cache"
      before_cache:
        - rm -rf $HOME/.m2/repository/io/cucumber
      sudo: false
      dist: trusty
      addons:
        sonarcloud:
          organization: "pacman-kata"
    - language: go
      go:
        - "1.10"
      before_install: 
        - go get -v github.com/schrej/godacov
        - go get -u -a golang.org/x/tools/cmd/stringer
      script: 
        - make local-go
      after_success:
        - make coverage-go
      sudo: false
      dist: trusty
      addons:
        sonarcloud:
          organization: "pacman-kata"
    - language: node_js
      node_js:
        - "9.3.0"
      script: 
        - make local-node
      after_success:
        - make coverage-node
      sudo: false
      dist: trusty
      addons:
        sonarcloud:
          organization: "pacman-kata"
    - language: python
      python:
        - "3.6"
      install:
        - pip install -r src/main/python/requirements.txt
        - pip install -r src/main/python/requirements-test.txt
      script: 
        - make local-python
      after_success:
        - make coverage-python
      sudo: false
      dist: trusty
      addons:
        sonarcloud:
          organization: "pacman-kata"
        
